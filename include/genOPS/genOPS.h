#pragma once
#include <string>
#include <vector>
#include <unordered_map>
#include <iostream>
#include <fstream>
#include <codecvt>
#include <sstream>
#include <core/Lexeme.hpp>

GenState stateFromString(const std::string& s) {
    static const std::unordered_map<std::string,GenState> mp = {
        {"A", GenState::A}, {"P", GenState::P}, {"Q", GenState::Q},
        {"B", GenState::B}, {"C", GenState::C}, {"D", GenState::D},
        {"S", GenState::S}, {"U", GenState::U}, {"T", GenState::T},
        {"V", GenState::V}, {"F", GenState::F}, {"G", GenState::G},
        {"H", GenState::H}, {"L", GenState::L}, {"W", GenState::W},
        {"M", GenState::M}, {"X", GenState::X}, {"N", GenState::N},
        {"O", GenState::O}, {"E", GenState::E}, {"Z", GenState::Z},
        {"Ʇ", GenState::Z} 
    };
    auto it = mp.find(s);
    if (it == mp.end()) {
        throw std::runtime_error("Unknown non-terminal: " + s);
    }
    return it->second;
}

struct GenContext {
    std::vector<Lexeme> prog; // Список распознанных лексем
    std::string InputSTR; // входная строка
    int i = 0;
    // без встраивания структуры Lexeme для упрощения обращения к полям
    int n = 0;
    std::string name;
    int row = 1;
    int pos = 0;
    //
    double x = 0; // дробная часть
    double d = 0; // следующий десятичный разряд
};

std::string loadTextFile(const std::string& filePath) {
    std::ifstream in(filePath);
    if (!in) {
        std::cout << "Не открывается файл: " << filePath << std::endl;
        return std::string();
    }
    std::string output((std::istreambuf_iterator<char>(in)), std::istreambuf_iterator<char>());
    output += static_cast<char>(0xA7B1); // 0xE1 = Ʇ
    return output;
}

struct GenerationRules {
    std::vector<std::string> pattern;
    std::vector<std::int> action;
};

enum class GenState {
    A,
    P,
    Q,
    B,
    C, 
    D, 
    S,
    U,
    T,
    V,
    F,
    G,
    H,
    L,
    W,
    M,
    X,
    N,
    O,
    E,
    Z
};

using GenInnerMap = std::unordered_map<int, GenerationRules>;
using GenTable = std::unordered_map<GenState, GenInnerMap>;

static const GenTable genTransitionTable = {
    { GenState::A, {
        { 1, { { "1", "H", "61", "S", "Z", "59", "A" }, { 1, 0, 0, 0, 61, 0, 0 } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "" }, {  } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { "" }, {  } } },
        { 43, { { "" }, {  } } },
        { 45, { { "" }, {  } } },
        { 42, { { "" }, {  } } },
        { 47, { { "" }, {  } } },
        { 61, { { "" }, {  } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "" }, {  } } },
        { 33, { { "" }, {  } } },
        { 9, { { "" }, {  } } },
        { 20, { { "20", "", "P", "59", "A" }, { 1010, 0, 0, 0 } } },
        { 21, { { "21", "", "P", "59", "A" }, { 1011, 0, 0, 0 } } },
        { 10, { { "10", "40", "L", "41", "123", "A", "125", "E", "Z", "A" }, { 0, 0, 0, 0, 1001, 0, 0, 0, 1003, 0 } } },
        { 11, { { "" }, {  } } },
        { 12, { { "12", "40", "L", "41", "123", "A", "125", "Z", "A" }, { 1004, 0, 0, 0, 1001, 0, 0, 1005, 0 } } },
        { 13, { { "13", "40", "1", "H", "41", "59", "A" }, { 0, 0, 1, 0, 1101, 0, 0 } } },
        { 14, { { "14", "40", "S", "41", "59", "A" }, { 0, 0, 0, 1102, 0, 0 } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }},
    { GenState::P, {
        { 1, { { "1", "B", "Q" }, { 1006, 0, 1009 } } },
    }},
    { GenState::Q, {
        { 1, { { "" }, {  } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "" }, {  } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { "44", "1", "B", "Q" }, { 0, 1006, 0, 1009 } } },
        { 43, { { "" }, {  } } },
        { 45, { { "" }, {  } } },
        { 42, { { "" }, {  } } },
        { 47, { { "" }, {  } } },
        { 61, { { "" }, {  } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "" }, {  } } },
        { 33, { { "" }, {  } } },
        { 9, { { "" }, {  } } },
        { 20, { { "" }, {  } } },
        { 21, { { "" }, {  } } },
        { 10, { { "" }, {  } } },
        { 11, { { "" }, {  } } },
        { 12, { { "" }, {  } } },
        { 13, { { "" }, {  } } },
        { 14, { { "" }, {  } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }},
    { GenState::B, {
        { 1, { { "" }, {  } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "91", "2", "93", "C" }, { 0, 2, 0, 0 } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { "" }, {  } } },
        { 43, { { "" }, {  } } },
        { 45, { { "" }, {  } } },
        { 42, { { "" }, {  } } },
        { 47, { { "" }, {  } } },
        { 61, { { "61", "S", "Z" }, { 1007, 0, 61 } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "" }, {  } } },
        { 33, { { "" }, {  } } },
        { 9, { { "" }, {  } } },
        { 20, { { "" }, {  } } },
        { 21, { { "" }, {  } } },
        { 10, { { "" }, {  } } },
        { 11, { { "" }, {  } } },
        { 12, { { "" }, {  } } },
        { 13, { { "" }, {  } } },
        { 14, { { "" }, {  } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }},
    { GenState::C, {
        { 1, { { "" }, {  } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "" }, {  } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { "" }, {  } } },
        { 43, { { "" }, {  } } },
        { 45, { { "" }, {  } } },
        { 42, { { "" }, {  } } },
        { 47, { { "" }, {  } } },
        { 61, { { "61", "123", "S", "D", "125" }, { 0, 0, 0, 0, 1008 } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "" }, {  } } },
        { 33, { { "" }, {  } } },
        { 9, { { "" }, {  } } },
        { 20, { { "" }, {  } } },
        { 21, { { "" }, {  } } },
        { 10, { { "" }, {  } } },
        { 11, { { "" }, {  } } },
        { 12, { { "" }, {  } } },
        { 13, { { "" }, {  } } },
        { 14, { { "" }, {  } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }},
    { GenState::D, {
        { 1, { { "" }, {  } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "" }, {  } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { 44, "S", "D" }, { 0, 0, 0 } } },
        { 43, { { "" }, {  } } },
        { 45, { { "" }, {  } } },
        { 42, { { "" }, {  } } },
        { 47, { { "" }, {  } } },
        { 61, { { "" }, {  } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "" }, {  } } },
        { 33, { { "" }, {  } } },
        { 9, { { "" }, {  } } },
        { 20, { { "" }, {  } } },
        { 21, { { "" }, {  } } },
        { 10, { { "" }, {  } } },
        { 11, { { "" }, {  } } },
        { 12, { { "" }, {  } } },
        { 13, { { "" }, {  } } },
        { 14, { { "" }, {  } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }},
    { GenState::S, {
        { 1, { { "1", "H", "V", "U" }, { 1, 0, 0, 0 } } },
        { 2, { { "2", "V", "U" }, { 2, "", "" } } },
        { 3, { { "3", "V", "U" }, { 3, "", "" } } },
        { 40, { { "40", "S", "41", "V", "U" }, { 0, 0, 0, 0, 0 } } },
        { 45, { { "45", "G", "V", "U" }, { 0, 0, 1100, 0 } } },
        { 15, { { "15", "40", "S", "41", "V", "U" }, { 0, 0, 0, 1103, 0, 0 } } },
        { 16, { { "16", "40", "S", "41", "V", "U" }, { 0, 0, 0, 1104, 0, 0 } } },
        { 17, { { "17", "40", "S", "41", "V", "U" }, { 0, 0, 0, 1105, 0, 0 } } },
        { 18, { { "18", "40", "S", "41", "V", "U" }, { 0, 0, 0, 1106, 0, 0 } } },
        { 19, { { "19", "40", "S", "41", "V", "U" }, { 0, 0, 0, 1107, 0, 0 } } },
    }},
    { GenState::U, {
        { 1, { { "" }, {  } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "" }, {  } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { "" }, {  } } },
        { 43, { { "43", "T", "U" }, { 0, 0, 43 } } },
        { 45, { { "45", "T", "U" }, { 0, 0, 45 } } },
        { 42, { { "" }, {  } } },
        { 47, { { "" }, {  } } },
        { 61, { { "" }, {  } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "" }, {  } } },
        { 33, { { "" }, {  } } },
        { 9, { { "" }, {  } } },
        { 20, { { "" }, {  } } },
        { 21, { { "" }, {  } } },
        { 10, { { "" }, {  } } },
        { 11, { { "" }, {  } } },
        { 12, { { "" }, {  } } },
        { 13, { { "" }, {  } } },
        { 14, { { "" }, {  } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }},
    { GenState::T, {
        { 1, { { "1", "H", "V" }, { 1, 0, 0 } } },
        { 2, { { "2", "V" }, { 2, 0 } } },
        { 3, { { "3", "V" }, { 3, 0 } } },
        { 40, { { "40", "S", "41", "V" }, { 0, 0, 0, 0 } } },
        { 45, { { "45", "G", "V"}, { 0, 0, 1100 } } },
        { 15, { { "15", "40", "S", "41", "V" }, { 0, 0, 0, 1103, 0 } } },
        { 16, { { "16", "40", "S", "41", "V" }, { 0, 0, 0, 1104, 0 } } },
        { 17, { { "17", "40", "S", "41", "V" }, { 0, 0, 0, 1105, 0 } } },
        { 18, { { "18", "40", "S", "41", "V" }, { 0, 0, 0, 1106, 0 } } },
        { 19, { { "19", "40", "S", "41", "V" }, { 0, 0, 0, 1107, 0 } } },
    }},
    { GenState::V, {
        { 1, { { "" }, {  } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "" }, {  } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { "" }, {  } } },
        { 43, { { "" }, {  } } },
        { 45, { { "" }, {  } } },
        { 42, { { "42", "F", "V" }, { 0, 0, 42 } } },
        { 47, { { "47", "F", "V" }, { 0, 0, 47 } } },
        { 61, { { "" }, {  } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "" }, {  } } },
        { 33, { { "" }, {  } } },
        { 9, { { "" }, {  } } },
        { 20, { { "" }, {  } } },
        { 21, { { "" }, {  } } },
        { 10, { { "" }, {  } } },
        { 11, { { "" }, {  } } },
        { 12, { { "" }, {  } } },
        { 13, { { "" }, {  } } },
        { 14, { { "" }, {  } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }},
    { GenState::F, {
        { 1, { { "1", "H" }, { 1, 0 } } },
        { 2, { { "2" }, { 2 } } },
        { 3, { { "3" }, { 3 } } },
        { 40, { { "40", "S", "41" }, { 0, 0, 0 } } },
        { 45, { { "45", "G", "Z"}, { 0, 0, 1100 } } },
        { 15, { { "15", "40", "S", "41" }, { 0, 0, 0, 1103 } } },
        { 16, { { "16", "40", "S", "41" }, { 0, 0, 0, 1104 } } },
        { 17, { { "17", "40", "S", "41" }, { 0, 0, 0, 1105 } } },
        { 18, { { "18", "40", "S", "41" }, { 0, 0, 0, 1106 } } },
        { 19, { { "19", "40", "S", "41" }, { 0, 0, 0, 1107 } } },
    }},
    { GenState::G, {
        { 1, { { "1", "H" }, { 1, 0 } } },
        { 2, { { "2" }, { 2 } } },
        { 3, { { "3" }, { 3 } } },
        { 40, { { "40", "S", "41" }, { 0, 0, 0 } } },
        { 15, { { "15", "40", "S", "41" }, { 0, 0, 0, 1103 } } },
        { 16, { { "16", "40", "S", "41" }, { 0, 0, 0, 1104 } } },
        { 17, { { "17", "40", "S", "41" }, { 0, 0, 0, 1105 } } },
        { 18, { { "18", "40", "S", "41" }, { 0, 0, 0, 1106 } } },
        { 19, { { "19", "40", "S", "41" }, { 0, 0, 0, 1107 } } },
    }},
    { GenState::H, {
        { 1, { { "" }, {  } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "91", "S", "93" }, { 0, 0, 1108 } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { "" }, {  } } },
        { 43, { { "" }, {  } } },
        { 45, { { "" }, {  } } },
        { 42, { { "" }, {  } } },
        { 47, { { "" }, {  } } },
        { 61, { { "" }, {  } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "" }, {  } } },
        { 33, { { "" }, {  } } },
        { 9, { { "" }, {  } } },
        { 20, { { "" }, {  } } },
        { 21, { { "" }, {  } } },
        { 10, { { "" }, {  } } },
        { 11, { { "" }, {  } } },
        { 12, { { "" }, {  } } },
        { 13, { { "" }, {  } } },
        { 14, { { "" }, {  } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }},
    { GenState::L, {
        { 1, { { "1", "H", "V", "U", "O", "X", "W" }, { 1, 0, 0, 0, 0, 0, 0 } } },
        { 2, { { "2", "V", "U", "O", "X", "W" }, { 2, 0, 0, 0, 0, 0 } } },
        { 3, { { "3", "V", "U", "O", "X", "W" }, { 3, 0, 0, 0, 0, 0 } } },
        { 40, { { "40", "L", "41", "X", "W" }, { 0, 0, 0, 0, 0 } } },
        { 45, { { "45", "G", "Z", "V", "U", "O", "X", "W" }, { 0, 0, 1100, 0, 0, 0, 0, 0 } } },
        { 33, { { "33", "40", "L", "41", "X", "W" }, { 0, 0, 0, 0, 33, 0 } } },
        { 15, { { "15", "40", "S", "41", "V", "U", "O", "X", "W" }, { 0, 0, 0, 1103, 0, 0, 0, 0, 0 } } },
        { 16, { { "16", "40", "S", "41", "V", "U", "O", "X", "W" }, { 0, 0, 0, 1104, 0, 0, 0, 0, 0  } } },
        { 17, { { "17", "40", "S", "41", "V", "U", "O", "X", "W" }, { 0, 0, 0, 1105, 0, 0, 0, 0, 0  } } },
        { 18, { { "18", "40", "S", "41", "V", "U", "O", "X", "W" }, { 0, 0, 0, 1106, 0, 0, 0, 0, 0  } } },
        { 19, { { "19", "40", "S", "41", "V", "U", "O", "X", "W" }, { 0, 0, 0, 1107, 0, 0, 0, 0, 0  } } },
    }},
    { GenState::W, {
        { 1, { { "" }, {  } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "" }, {  } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { "" }, {  } } },
        { 43, { { "" }, {  } } },
        { 45, { { "" }, {  } } },
        { 42, { { "" }, {  } } },
        { 47, { { "" }, {  } } },
        { 61, { { "" }, {  } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "8", "M", "W" }, { 0, 0, 8 } } },
        { 33, { { "" }, {  } } },
        { 9, { { "" }, {  } } },
        { 20, { { "" }, {  } } },
        { 21, { { "" }, {  } } },
        { 10, { { "" }, {  } } },
        { 11, { { "" }, {  } } },
        { 12, { { "" }, {  } } },
        { 13, { { "" }, {  } } },
        { 14, { { "" }, {  } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }},
    { GenState::L, {
        { 1, { { "1", "H", "V", "U", "O", "X" }, { 1, 0, 0, 0, 0, 0  } } },
        { 2, { { "2", "V", "U", "O", "X" }, { 2, 0, 0, 0, 0  } } },
        { 3, { { "3", "V", "U", "O", "X" }, { 3, 0, 0, 0, 0  } } },
        { 40, { { "40", "L", "41", "X" }, { 0, 0, 0, 0  } } },
        { 45, { { "45", "G", "Z", "V", "U", "O", "X" }, { 0, 0, 1100, 0, 0, 0, 0  } } },
        { 33, { { "33", "40", "L", "41", "X" }, { 0, 0, 0, 0, 33 } } },
        { 15, { { "15", "40", "S", "41", "V", "U", "O", "X" }, { 0, 0, 0, 1103, 0, 0, 0, 0  } } },
        { 16, { { "16", "40", "S", "41", "V", "U", "O", "X" }, { 0, 0, 0, 1104, 0, 0, 0, 0  } } },
        { 17, { { "17", "40", "S", "41", "V", "U", "O", "X" }, { 0, 0, 0, 1105, 0, 0, 0, 0  } } },
        { 18, { { "18", "40", "S", "41", "V", "U", "O", "X" }, { 0, 0, 0, 1106, 0, 0, 0, 0  } } },
        { 19, { { "19", "40", "S", "41", "V", "U", "O", "X" }, { 0, 0, 0, 1107, 0, 0, 0, 0  } } },
    }},
    { GenState::X, {
        { 1, { { "" }, {  } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "" }, {  } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { "" }, {  } } },
        { 43, { { "" }, {  } } },
        { 45, { { "" }, {  } } },
        { 42, { { "" }, {  } } },
        { 47, { { "" }, {  } } },
        { 61, { { "" }, {  } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "" }, {  } } },
        { 33, { { "" }, {  } } },
        { 9, { { "9", "N", "X" }, { 0, 0, 9 } } },
        { 20, { { "" }, {  } } },
        { 21, { { "" }, {  } } },
        { 10, { { "" }, {  } } },
        { 11, { { "" }, {  } } },
        { 12, { { "" }, {  } } },
        { 13, { { "" }, {  } } },
        { 14, { { "" }, {  } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }},
    { GenState::L, {
        { 1, { { "1", "H", "V", "U", "O" }, { 1, 0, 0, 0, 0  } } },
        { 2, { { "2", "V", "U", "O" }, { 2, 0, 0, 0  } } },
        { 3, { { "3", "V", "U", "O" }, { 3, 0, 0, 0  } } },
        { 40, { { "40", "L", "41" }, { 0, 0, 0  } } },
        { 45, { { "45", "G", "Z", "V", "U", "O" }, { 0, 0, 1100, 0, 0, 0  } } },
        { 33, { { "33", "40", "L", "41", "Z" }, { 0, 0, 0, 0, 33 } } },
        { 15, { { "15", "40", "S", "41", "V", "U", "O" }, { 0, 0, 0, 1103, 0, 0, 0  } } },
        { 16, { { "16", "40", "S", "41", "V", "U", "O" }, { 0, 0, 0, 1104, 0, 0, 0  } } },
        { 17, { { "17", "40", "S", "41", "V", "U", "O" }, { 0, 0, 0, 1105, 0, 0, 0  } } },
        { 18, { { "18", "40", "S", "41", "V", "U", "O" }, { 0, 0, 0, 1106, 0, 0, 0  } } },
        { 19, { { "19", "40", "S", "41", "V", "U", "O" }, { 0, 0, 0, 1107, 0, 0, 0  } } },
    }},
    { GenState::O, {
        { 60, { { "60", "S", "Z" }, { 0, 0, 60 } } },
        { 7, { { "7", "S", "Z" }, { 0, 0, 7 } } },
        { 5, { { "5", "S", "Z" }, { 0, 0, 5 } } },
        { 4, { { "4", "S", "Z" }, { 0, 0, 4 } } },
        { 6, { { "6", "S", "Z" }, { 0, 0, 6 } } },
        { 62, { { "62", "S", "Z" }, { 0, 0, 62 } } },
    }},
    { GenState::E, {
        { 1, { { "" }, {  } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "" }, {  } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { "" }, {  } } },
        { 43, { { "" }, {  } } },
        { 45, { { "" }, {  } } },
        { 42, { { "" }, {  } } },
        { 47, { { "" }, {  } } },
        { 61, { { "" }, {  } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "" }, {  } } },
        { 33, { { "" }, {  } } },
        { 9, { { "" }, {  } } },
        { 20, { { "" }, {  } } },
        { 21, { { "" }, {  } } },
        { 10, { { "" }, {  } } },
        { 11, { { "11", "123", "A", "125" }, { 1002, 0, 0, 0 } } },
        { 12, { { "" }, {  } } },
        { 13, { { "" }, {  } } },
        { 14, { { "" }, {  } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }},
    { GenState::Z, {
        { 1, { { "" }, {  } } },
        { 2, { { "" }, {  } } },
        { 3, { { "" }, {  } } },
        { 40, { { "" }, {  } } },
        { 41, { { "" }, {  } } },
        { 91, { { "" }, {  } } },
        { 93, { { "" }, {  } } },
        { 123, { { "" }, {  } } },
        { 125, { { "" }, {  } } },
        { 44, { { "" }, {  } } },
        { 43, { { "" }, {  } } },
        { 45, { { "" }, {  } } },
        { 42, { { "" }, {  } } },
        { 47, { { "" }, {  } } },
        { 61, { { "" }, {  } } },
        { 60, { { "" }, {  } } },
        { 7, { { "" }, {  } } },
        { 5, { { "" }, {  } } },
        { 4, { { "" }, {  } } },
        { 6, { { "" }, {  } } },
        { 62, { { "" }, {  } } },
        { 59, { { "" }, {  } } },
        { 8, { { "" }, {  } } },
        { 33, { { "" }, {  } } },
        { 9, { { "" }, {  } } },
        { 20, { { "" }, {  } } },
        { 21, { { "" }, {  } } },
        { 10, { { "" }, {  } } },
        { 11, { { "" }, {  } } },
        { 12, { { "" }, {  } } },
        { 13, { { "" }, {  } } },
        { 14, { { "" }, {  } } },
        { 15, { { "" }, {  } } },
        { 16, { { "" }, {  } } },
        { 17, { { "" }, {  } } },
        { 18, { { "" }, {  } } },
        { 19, { { "" }, {  } } },
        { 22, { { "" }, {  } } },
    }}
};